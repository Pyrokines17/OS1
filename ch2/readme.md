### Команды:

- `nasm -f elf64 *.asm -o *.o` -- создание объектных файлов
- `ld *.o -o <progname>` -- создание программы

### [Таблица с вызовами (syscall)](https://syscalls.mebeim.net/?table=x86/64/x64/v6.5)
### Иерархия регистров (`syscall`):

- `rdi`
- `rsi`
- `rdx`
- `r10`
- `r8`
- `r9`

### [Таблица с вызовами (int 80h)](https://github.com/torvalds/linux/blob/master/arch/x86/entry/syscalls/syscall_32.tbl)
### Иерархия регистров (int 80h):

- `ebx`
- `ecx`
- `edx`
- `esi`
- `edi`
- `ebp`

### В архитектуре x86-64 ОС Linux существует несколько различных способов системных вызовов:

- `int 80h`
- `sysenter`/`sysexit`
- `syscall`/`sysret`
- `vsyscall`
- `vDSO`

### В реализации каждого системного вызова есть свои особенности, но в общем, обработчик в Linux имеет примерно одинаковую структуру:

- Включается защита от чтения/записи/исполнения кода пользовательского пространства.
- Заменяется пользовательский стек на стек ядра, сохраняются `callee-saved` регистры.
- Выполняется обработка системного вызова
- Восстановление стека, регистров
- Отключение защиты
- Выход из системного вызова
